<html>
<head>
<title>Javascript Lecture Notes</title>

<script language="JavaScript">
function sayGoodbye()
{
    alert("Goodbye!")
}

function sayHello()
{
    alert("Hi, there!")
    sayGoodbye();
}

//-->
</script>

<style>
    code{font-family:courier}
</style>
 
</head>

<body background="background_cam.gif">

<hr size=1 color="#006699" noshade>
<font FACE="Verdana, Arial, Helvetica, sans-serif">
<b>Part 2</b>
</font>
<hr size=1 color="#006699" noshade>

<h2>Functions in JavaScript</h2>

<p>In JavaScript, as in other languages, we can create <i>functions</i>. A function is a kind of mini-program that forms part of a larger program.</p>

<p>Functions:</p>

<ul>
    <li><p>consist of one or more <i>statements</i> (i.e., lines of 
           program code that perform some operation)</p></li>

    <li><p>are separated in some way from the rest of the 
             program, for example, by being enclosed in curly 
             brackets, {.....}</p></li>

    <li><p>are given a unique name, so that they can be <i>called</i>
           from elsewhere in the program.</p></li>
</ul>

<p>&nbsp;</p>

<p>Functions are used:</p>

<ul>
    <li><p>Where the same operation has to be performed 
           many times within a program.</p></li>

        <p>Rather than writing the same code again and again, it   
           can be written once as a function and used repeatedly.
           For example:</p>

        <p><code>request_confirmation_from_user</code></p></li>

        <p>&nbsp;</p>

     <li><p>To make it easier for someone else to understand 
         your program.</p>

         <p>Rather than writing long, rambling programs in which every 
            single operation is listed in turn, it is usually better to 
            divide programs up into small groups of related operations. 
            For example:</p>

        <code>
            <p>set_variables_to_initial_values</p>
            <p>welcome_user</p>
            <p>obtain_user_input</p>
            <p>perform_calculations</p>
            <p>display_results</p>
        </code></li>
</ul>

<p>&nbsp;</p>

<p>In JavaScript, functions are created in the following way:</p>

<code>
<table width=100%>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function name()</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td width=10%>&nbsp;</td>
        <td width=10%>&nbsp;</td>
        <td width=80%>statement;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>statement;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>statement</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
</table>
</code>

<p>Note that all the statements except the last statement must be followed by semi-colons. The last statement doesn't need one, but if you do put a semi-colon after the last statement it won't cause any problems.</p>

<p>Here is an example of a simple function:</p>

<code>
<table width=100%>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function initialiseVariables()</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td width=10%>&nbsp;</td>
        <td width=10%>&nbsp;</td>
        <td width=80%>itemsSold = 0;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>nettPrice = 0;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>priceAfterTax = 0</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
</table>
</code>

<p>When called, this function will set the three variables 
<code>itemsSold, nettPrice</code> and <code>priceAfterTax</code> to zero.</p>

<p>To run this function from somewhere else in a program, we would simply call it by name, e.g.:</p>

<p><code>&nbsp;&nbsp;&nbsp;&nbsp;initialiseVariables();</code></p>

<p>Note that the name must be followed by a pair of brackets. The purpose of these will become clear later.</p>

<p>&nbsp;</p>

<p>Functions can be called from within other functions.</p>

<p>For example:</p>

<code>
<table width=100%>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function sayGoodbye()</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td width=10%>&nbsp;</td>
        <td width=10%>&nbsp;</td>
        <td width=80%>alert("Goodbye!")</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
    <tr>
        <td colspan=3>&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function sayHello()</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>alert("Hi, there!");</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>sayGoodbye()</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
</table>
</code>

<p>&nbsp;</p>

<p>When the function <code>sayHello()</code> is called, it first displays an <i>alert</i> on the screen. An alert is simply  box containing some text and an 'OK' button that the user can press to make the box disappear when the text has been read. In this case the box will contain the words "Hi, there!".</p> 

<p>The <code>sayHello()</code> function then calls the function <code>sayGoodbye()</code>, which posts another alert saying "Goodbye".</p>

<form name="example1">
<p><input type=button name="say_hello" value="Say Hello" onClick="sayHello()">
Click here to see this example working.</p>
</form>

<p>Note that the function <code>sayGoodbye()</code> is written first. Browsers interpet JavaScript code line-by-line, starting at the top, and some browsers will report an error if they find a reference to a function before they find the function itself. Therefore functions should be declared before the point in the program where they are used.</p>

<p>&nbsp;</p>

<p><h2>Passing Parameters to Functions</h2></p>

<p>Some functions perform a simple task for which no extra information is needed.</p>

<p>However, it is often necessary to supply information to a function so that it can carry out its task.</p>

<p>For example, if we want to create a function which adds VAT to a price, we would have to tell the function what the price is.</p>

<p>To do this we would pass the price into the function as a <i>parameter</i>. Parameters are listed in between the brackets that follow the function name. For example:</p>

<code>
<table width=100%>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function name(parameter_1, parameter_2)</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td width=10%>&nbsp;</td>
        <td width=10%>&nbsp;</td>
        <td width=80%>statement(s);</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
</table>
</code>

<p>In this case two parameters are used, but it's possible to use more than this if necessary. The additional parameter names would simply be added on to the list of parameters inside the brackets, separated from one another by commas. It's also possible to use just one prameter if that's all that is needed.</p> 

<p>Here's an example of a simple function that accepts a single parameter:</p>

<code>
<table width=100%>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function addVAT(price)</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td width=10%>&nbsp;</td>
        <td width=10%>&nbsp;</td>
        <td width=80%>price *= 1.21;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>alert(price)</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
</table>
</code>


<p>This function accepts a parameter called <code>price</code>, multiplies it by 1.21 (i.e., adds an extra 21% to it), and then displays the new value in an alert box.</p>

<p>We would call this function in the following way:</p>

<p><code>&nbsp;&nbsp;&nbsp;&nbsp;addVAT(nettPrice)</code></p>

<p>The parameter <code>nettPrice</code> could be either:</p>

<ul>
    <li><p><u>a literal</u> - for example:</p>

        <p><code>addVAT(5)</code></p>

        <p>&nbsp;</p></li>

    <li><p><u>a variable</u> - for example:</p>

        <p><code>var nettPrice = 5;<br />
            addVAT(nettPrice)</code></p></li>
</ul>

<p>&nbsp;</p>

<p><h2>Returning values from Functions</h2></p>

<p>Sometimes we also need to get some information back from a function.</p>

<p>For example, we might want to add VAT to a price and then, instead of just displaying the result, pass it back to the user or display it in a table.</p>

<p>To get information back from a function we do the following:</p>

<code>
<table width=100%>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>function addVAT(price)</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>{</td>
    </tr>
    <tr>
        <td width=10%>&nbsp;</td>
        <td width=10%>&nbsp;</td>
        <td width=80%>price *= 1.21;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td>return price</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td colspan=2>}</td>
    </tr>
</table>
</code>

<p>To call this function we would do the following:</p>

<p><code>&nbsp;&nbsp;&nbsp;&nbsp;var newPrice = addVAT(nettPrice)</code></p>

<p>The value returned by the funtion will be stored in the variable <code>newPrice</code>. Therefore this funtion will have the effect of making <code>newPrice</code> equal to <code>nettPrice</code> multiplied by 1.21.</p>

<p>&nbsp;</p>

</body>
</html>