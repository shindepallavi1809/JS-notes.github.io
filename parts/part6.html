<html>
<head>
<title>Javascript Lecture Notes</title>

<script language="JavaScript">

function displayLength()
{
    var stringLength = document.form1.textBox1.value.length;
    alert("Length = " + stringLength + " characters");
}

function findThirdChar()
{
    var thirdCharacter = document.form1.textBox2.value.charAt(2);
    alert("The third character is '" + thirdCharacter + "'");
}

function FindPosnOfC()
{
    var positionOfC = document.form1.textBox3.value.indexOf("c");
    alert("The letter c is character number " + positionOfC);
}

function findSubString()
{
    var extract = document.form1.textBox4.value.substring(2,5);
    alert(extract);
}

function findAsciiValue()
{
    var rawValue = document.form1.textBox5.value.charAt(0);
    var asciiValue = document.form1.textBox5.value.charCodeAt(0);
    alert("The ASCII Value of '" + rawValue + "' is " + asciiValue);
}

function convertAsciiValues()
{
    var asciiString = String.fromCharCode(73,97,110);
    alert("Those numbers correspond to the string: " + asciiString);
}

function convertToString()
{
    var aNumber = 12345;
    alert("The length is " + aNumber.length);
    var aNumber = aNumber.toString();
    alert("The length is " + aNumber.length);
}

function compareStrings1()
{
    var inputString = prompt("Please enter Credit Card number","");
    var myRegExp = /\d{4}-\d{4}-\d{4}-\d{4}/;
    var result = myRegExp.test(inputString);
    alert(result);
}

function compareStrings2()
{
    var inputString = prompt("Please enter Credit Card number","");
    var myRegExp = /\d{16}|\d{4}-\d{4}-\d{4}-\d{4}/;
    var result = myRegExp.test(inputString);
    alert(result);
}

function compareStrings3()
{
    var inputString = prompt("Please enter Credit Card number","");
    var myRegExp = /\d{16}|\d{4}[ -]\d{4}[ -]\d{4}[ -]\d{4}/;
    var result = myRegExp.test(inputString);
    alert(result);
}

function findNumber()
{
    var myRegExp = /\d\d/;
    var numStart = document.form2.textBox6.value.search(myRegExp);
    alert("The number starts at position " + numStart);
}

function replaceNumber()
{
    var myRegExp = /\d\d/;
    var newString = document.form2.textBox7.value.replace(myRegExp, "00");
    alert("The modified string is: " + newString);
}

//-->
</script>

<style>
code{font-family:courier}
</style>
 
</head>

<body background="background_cam.gif">

<hr size="1" color="#006699" noshade>
<font face="Verdana, Arial, Helvetica, sans-serif"><b>
Part 6
</b></font>
<hr size="1" color="#006699" noshade>

<h2>The <code>String</code> Object</H2>

<p>JavaScript includes a <code>String</code> object that allow us to manipulate strings in a variety of ways, for example, searching a string to see if it contains certain patterns of letters, extracting part of it to form new string, and much more.</p>  

<table width="100%">
    <tr>
        <td colspan="2">A <code>String</code> object is created in the following way:</td>
    </tr>
    <tr>
        <td width="15%">&nbsp;</td>
        <td width="85%">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td><code>
            var myString = new String("Hello World");</code></td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">However, most browsers regard <i>any</i> string as 
            an instance of the <code>String</code> object. Therefore you 
            can declare a string in the normal way, e.g.:</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td><code>
             var myString = "Hello World";</code></td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">...and in so doing you will automatically 
            create a <code>String</code> object, complete with its associated
            methods, properties, etc..</td>
    </tr>
</table>

<p><code>String</code> <i>properties</i> include:</p>

<form name="form1">
<table width="80%">

<!-- string.length -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top"><code> 
            length</code></td>
        <td colspan="2">Returns the length of a string. 
            For example, here is a text box:</td>
    </tr>
    <tr>
        <td width="10%">&nbsp;</td>
        <td width="20%">&nbsp;</td>
        <td width="10%">&nbsp;</td>
        <td width="60%">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox1"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">It is called <code> 
             textBox1</code> and is part of a form called 
             <code>form1</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">If someone types into the box, you could
            find out how many characters they typed using the 
            following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var stringLength = document.form1.textBox1.value.length
            </code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type some text into the box, then click here 
            to see this code in operation. 
            <input type="button" name="display_length" value=
            "Display String Length" onclick="displayLength()"></td>
    </tr>
</table>

<p>&nbsp;</p>

<p><code>String</code> <i>methods</i> include:</p>

<table width="80%">

<!-- string.charAt() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top"><code> 
            charAt()</code></td>
        <td colspan="2">Returns the character at a specified position 
            in a string. The syntax is:</td>
    </tr>
    <tr>
        <td width="10%">&nbsp;</td>
        <td width="20%">&nbsp;</td>
        <td width="10%">&nbsp;</td>
        <td width="60%">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>charAt(index)</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">where <code>index</code> 
            is a number representing the position of a character in 
            the string. For example, here is a text box:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox2"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">It is called <code> 
             textBox2</code> and is part of 
             <code>form1</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">You could find out what the third character 
            in the text-box is using the following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var thirdCharacter = document.form1.textBox2.value.charAt(2);
            </code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">(Note that the characters in a string are 
            numbered from zero, not one. Therefore the third 
            character will be character number two.)</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type some text into the box, then click here 
            to see this code in operation. 
            <input type="button" name="find_third_char" value=
            "Find Third Chararacter" onclick="findThirdChar()"> </td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.indexOf() -------------------->

     <tr>
        <td>&nbsp;</td>
        <td valign="top"><code>
            indexOf()</code></td>
        <td colspan="2">Searches a string to see if it contains a 
            specified character, and if it does, returns the 
            position of that character. If the specified character 
            occurs more than once in the string, it returns the 
            position of the first occurrence of that character.
            The syntax is:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code> 
                  indexOf(character)</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example, here is a text box:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox3"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">It is called <code> 
             textBox3</code> and is part of 
             <code>form1</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">To find out whether the text-box contains 
            the letter 'c', we could use the following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var positionOfC = document.form1.textBox3.value.indexOf("c");
            </code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type some text into the box, then click here 
            to see this code in operation.
            <input type="button" name="find_position_of_c" value= 
            "Find position of C" onclick="FindPosnOfC()"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Again, bear in mind that the characters in the 
            string are numbered from zero, not one, so the index will 
            be one less than the character's actual position. Also 
            note that if there is no 'c' in the string, the value 
            returned will be -1.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.lastIndexOf() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top">
            <code>lastIndexOf()</code></td>
        <td colspan="2">Searches a string to see if it contains a 
            specified character, and if it does, returns the position 
            of that character. It performs the same function as 
            <code>indexOf()</code>, 
            except that if the specified character occurs more than 
            once in the string, it returns the position of the 
            <i>last</i> occurrence of that character rather than 
            the first.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.substring() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top">
            <code>substring()</code></td>
        <td colspan="2">Returns the portion of a string between two 
            specified positions. The syntax is:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
           substring(start_position, end_position)</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">where <code>start_position</code> is the position 
            of the first character in the wanted portion of the string
            (counting from zero), and <code>end_position</code> is the 
            position <i>after</i> the last character of the wanted portion 
            of the string.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example, here is a text box:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox4"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">It is called <code> 
             textBox4</code> and is part of 
             <code>form1</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Suppose we wish to extract the third, fourth and 
             fifth characters from a string in the text-box. Counting from 
             zero, these would be the characters in positions 2, 3 and 4. 
             Therefore we would set the first parameter to 2 and the second
             parameter to 5 (one position after the last character we want).
             For example:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var extract = document.form1.textBox4.value.substring(2,5);
            </code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type some text into the box, then click here 
            to see this code in operation.
            <input type="button" name="find_sub_string" value=
            "Find 3-5th Characters" onclick="findSubString()"></td>
    </tr>

    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.substr() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top">
            <code>substr()</code></td>
        <td colspan="2">Returns a portion of a string, starting from
            a specified positions and continuing for a specified
            number of characters. The syntax is:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            substr(start_position, no_of_characters)</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">where <code>start_position</code> is the position 
            of the first character in the wanted portion of the string
            (counting from zero), and <code>no_of_characters</code> is 
            the number of characters to extract, starting at that position.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">In other words, it behaves in a very 
            similar way to the <code> 
            substring()</code> method, except that second parameter
            specifies the <i>number</i> of characters to extract 
            from the string rather than the position after the last 
            character. </td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.charCodeAt() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top">
            <code>charCodeAt()</code></td>
        <td colspan="2">Returns the numerical (ASCII) value of the 
            character at the specified position.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example, here is a text box:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox5"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">It is called <code> 
             textBox5</code> and is part of 
             <code>form1</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">To find the ASCII value of a single character 
            typed into this box, we could use the following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var asciiValue = document.form1.textBox5.value.charCodeAt(0);
            </code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type a character into the box, then click here 
            to see this code in operation.
            <input type="button" name="find_ascii_value" value=
            "Find ASCII Value" onclick="findAsciiValue()"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.fromCharCode() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top">
            <code>fromCharCode()</code></td>
        <td colspan="2">Returns the characters represented by a sequence 
            of numerical (ASCII) values.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var asciiString = String.fromCharCode(73,97,110);
            </code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">This code will create a string containing the 
            ASCII characters whose numerical valies are 73, 97 and 
            110. Click here to see this code in operation.
            <input type="button" name="convert_ascii_values" value=
            "Convert ASCII Values" onclick="convertAsciiValues()"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.toString() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td><code>toString()</code></td>
        <td colspan="2">Converts a number into a string. The syntax 
            is:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>toString(number)</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example, consider the following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>var aNumber = 12345;
            <br>alert("The length is " + aNumber.length);
            <br><br>var aNumber = aNumber.toString();
            <br>alert("The length is " + aNumber.length);</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">The variable <code> aNumber</code> is not enclosed 
            in quotes or otherwise declared as a string, so it is a 
            <i>numeric</i> variable. Therefore it doesn't have a 
            <code>length</code> property, and the first 
            <code>alert()</code> dialog in the example will report that 
            the length is 'undefined'.</TD>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">However, once we have converted 
            <code>aNumber</code> into a 
            string using the <code>toString()</code> method, it will 
            have a <code>length</code> property just 
            like any other string, so the second
            <code>alert()</code> dialog 
            in the example should report the length correctly.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Click here to see this code in operation.
            <input type="button" name="convert_to_string" value=
            "Convert Number To String" onclick="convertToString()"></td>
    </tr>
</table>
        
<p>&nbsp;</p>

<p>In addition to the methods shown above, the <code>String</code> object also provides methods to add HTML formatting to strings. These methods include:</p>

<table width="80%">

<!-- string.italics() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td><code>italics()</code></td>
        <td colspan="2">Formats a string with 
            <code>&lt;i&gt;</code> and 
            <code>&lt;/i&gt;</code> tags.
            The syntax is:</td>
    </tr>
    <tr>
        <td width="10%">&nbsp;</td>
        <td width="20%">&nbsp;</td>
        <td width="10%">&nbsp;</td>
        <td width="60%">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
             string_name.italics()</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var myString = "Hello World";<br>
            document.write(myString.italics()):</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Would have the same effect as:</TD>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var myString = "Hello World";<br>
            document.write("&lt;i&gt;" + myString + "&lt;/i&gt;"):</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.bold() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td><code>bold()</code></td>
        <td colspan="2">Formats the string with 
            <code>&lt;b&gt;</code> and 
            <code>&lt;/b&gt;</code> 
            tags. Works in a similar fashion to the 
            <code>italics()</code>
            method (see above).</td></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.sup() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td><code>sup()</code></td>
        <td colspan="2">Formats the string with 
            <code>&lt;sup&gt;</code> and 
            <code>&lt;/sup&gt;</code> 
            (i.e., super-script) tags. Works in a similar fashion to 
            the <code>italics()</code>
            method (see above).</td></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.sub() -------------------->

    <tr>
        <td>&nbsp;</td>
        <td><code>sub()</code></td>
        <td colspan="2">Formats the string with 
            <code>&lt;sub&gt;</code> and 
            <code>&lt;/sub&gt;</code> 
            (i.e., sub-script) tags. Works in a similar fashion to 
            the <code>italics()</code>
            method (see above).</td></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
</table>


<p>&nbsp;</p>

<h2>Regular Expressions</H2>

<p>A regular expression describes a pattern of characters or character types that can be used when searching and comparing strings.</p>

<p>For example, consider a web-site that allows the user to purchase goods online using a credit-card. The credit-card number might be checked before submission to make sure that it is of the right type, e.g., that it is 16 digits long, or consists of four groups of four digits separated by spaces or dashes.</p>

<p>It would be quite complicated to perform such checks using just the string-handling functions described above. However, using regular expressions we could create a pattern that means 'four digits followed by a space or a dash, followed by four more digits...', etc.. It is then quite simple  to compare this pattern with the value entered by the user and see if they match or not.</p>

<p>&nbsp;</p>

<p>The special characters that can be used to create regular expressions include:</p>

<table width="80%">
    <tr>
        <td>&nbsp;</td>
        <td>\d</td>
        <td>Represents any numerical character</td>
    </tr>
    <tr>
        <td width="20%">&nbsp;</td>
        <td width="20%">&nbsp;</td>
        <td width="60%">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td>{x}</td>
        <td>Indicates that the preceding item should occur x times 
            consecutively</td>
    </tr>
</table>

<p>In addition, any letter or other character can be used explcitly. For example, if you place an 'a' in a regular expression pattern it means that an 'a' is expected as a match at that point.</p>

<p>&nbsp;</p>

<p>Using these pattern-matching characters, we could create a simple pattern that checks for a credit-card number in the following way:</p>

<center>
<code>\d{4}-\d{4}-\d{4}-\d{4}</code>
</center>

<p>The first '<code>\d</code>' means 'any number'. This is followed by '<code>{4}</code>', which extends the pattern to mean 'any four consecutive numbers'. After this comes a '<code>-</code>' which simply means that a dash character is expected at this point. Then comes the 'any four consecutive numbers' pattern again, followed by the dash, and so on.</p>

<p>To create such a pattern, we would declare a regular expression object and give it the pattern as a value. This can be done in two ways:</p>

<table width="100%">
    <tr>
        <td>&nbsp;</td>
        <td><code>
            var myRegExp = new RegExp("\d{4}-\d{4}-\d{4}-\d{4}");</code></td>
    </tr>
    <tr>
        <td width="15%">Or:</td>
        <td width="85%">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td><code>
             var myRegExp = /\d{4}-\d{4}-\d{4}-\d{4}/;</code></td>
    </tr>
</table>

<p>In the first example, the new regular expression object (<code>RegExp</code>) is declared explicitly.</p>

<p>In the second example, the pattern is declared in much the same way a string might be declared, except that forward-slashes 
(<code>/</code>) are used at the beginning and end instead of quote-marks. The forward-slashes indicate that this sequence of characters is being declared as a regular expression rather than as a string.</p>

<p>&nbsp;</p>

<p>Once the regular expression has been created, we can use the <code>test()</code> method to compare it with a string. For example:</p>

<table width="100%">
    <tr>
        <td>&nbsp;</td>
        <td><code>
            var myRegExp = /\d{4}-\d{4}-\d{4}-\d{4}/;<br><br>
            var inputString = 
            prompt("Please enter Credit Card number","");<br><br>
            var result = myRegExp.test(inputString);<br><br>
            alert(result);</code></td>
    </tr>
    <tr>
        <td width="15%">&nbsp;</td>
        <td width="85%">&nbsp;</td>
    </tr>
</table>

<p>In this example, the regular expression is assigned to a variable called <code>myRegExp</code>. The user is then prompted to enter a string which is assigned to the variable <code>inputString</code>. The <code>test()</code> method is then used to compare the two strings, with the result being passed to the variable <code>result</code> which is displayed in an <code>alert()</code> dialog-box. If the string matches the pattern, the result will be true; if not, it will be false.</p>


<p>We can also compare a string with several different patterns using the Logical OR operator. For example:</p>

<center>
<code>\d{16}|\d{4}-\d{4}-\d{4}-\d{4}</code>
</center>

<p>This example is similar to the previous one except that the following characters have been added to the start of the string:</p>

<center>
<code>\d{16}|</code>
</center>

<p>The first few characters, <code>\d{16}</code>, mean 'any sixteen consecutive numbers'. The <code>|</code> character indicates a logical OR, meaning that the whole expression will be true if either the part before this symbol OR the part after it are true.</p>

<p>In other words, a string will be regarded as a valid match if it contains 16 consecutive digits OR four groups of four digits separated by dashes.</p>


<p>This is fine if the user enters consecutive numbers or groups of numbers separated by dashes, but what if the user enters groups of numbers separated by spaces?</p>

<p>It is possible test a character in a string to see if it is any one of several specified characters. This can be done in the following way:

<table width="80%">
    <tr>
        <td width="20%">&nbsp;</td>
        <td width="20%">&nbsp;</td>
        <td width="60%">&nbsp;</td>
    </tr>
    <tr>
        <td>&nbsp;</td>
        <td valign="top">[xyz]</td>
        <td>Match any of the characters within the brackets,
            e.g., if the characters within the brackets are x, y 
            and z, the test will return true if the character at 
            that point in the string is either x, y or z. </td>
    </tr>
</table>

<p>&nbsp;<p>

<p>Using this method, we could modify our previous pattern as follows:</p>

<center>
<code>\d{16}|\d{4}[ -]\d{4}[ -]\d{4}[ -]\d{4}</code>
</center>

<p>In this example, each of the dashes has been replaced with a pair of square brackets containing both a space and a dash. This means that either a space or a dash will be accepted at these points in the string. Thus the complete string will regarded as a valid match if it contains 16 consecutive digits OR four groups of four digits separated by spaces or dashes.</p>
</form>

<p>&nbsp;</p>

<p>The examples given above indicate only a few of the possibilities offered by regular expressions.</p>

<p>Some of the most commonly-used pattern-matching characters are shown below. For a more complete list you should consult a good reference book (the 'Pure JavaScript' book recommended for use with this course has quite an extensive list).</p>

<center>
<table width="80%" cellpadding=10>
    <tr>
        <td width="20%">\w</td>
        <td width="80%">Represents any alphanumerical character </td>
    </tr>
    <tr>
        <TD>\W</td>
        <td>Represents any non-alphanumerical character </td>
    </tr>
    <tr>
        <TD>\d</td>
        <td>Represents any numerical character </td>
    </tr>
    <tr>
        <TD>\D</td>
        <td>Represents any non-numerical character </td>
    </tr>
    <tr>
        <TD>\s</td>
        <td>Represents any 'whitespace' character
            (e.g., carriage-return, tab, etc.)</td>
    </tr>
    <tr>
        <TD>\S</td>
        <td>Represents any non-whitespace character </td>
    </tr>
    <tr>
        <TD>[..]</td>
        <td>Match any one of the characters within the brackets</td>
    </tr>
    <tr>
        <TD>[^..]</td>
        <td>Match any one character other than those within the brackets </td>
    </tr>
    <tr>
        <TD>[x-y] </td>
        <td>Match any character within the range x to y </td>
    </tr>
    <tr>
        <TD>[^x-y] </td>
        <td>Match any one character other than those within the 
            range x to y</td>
    </tr>
    <tr>
        <TD>{x}</td>
        <td>Match the previous item x times</td>
    </tr>
    <tr>
        <TD>{x,} </td>
        <td>Match the previous item at least x times</td>
    </tr>
</table>
</center>

<p>&nbsp;</p>

<h2>Using Regular Expressions with Strings</H2>

<p>In addition to the methods described above, the <code>String</code> object has a number of methods that are specifically designed to work with regular expressions.</p>

<form name="form2">
<table width="100%">

<!-- string.search -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top"><code> 
            search(regExp)</code></td>
        <td colspan="2">Searches for any occurrences of the regular 
            expression in the string. If any are found, it returns 
            an integer indicating where within the string the 
            matching sequence begins. If no match is found it 
            returns -1. </td>
    </tr>
    <tr>
        <td width="5%">&nbsp;</td>
        <td width="20%">&nbsp;</td>
        <td width="5%">&nbsp;</td>
        <td width="70%">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox6"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">The textbox above is called 
             <code>textBox6</code> 
             and it is part of a form called 
             <code>form2</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">If someone typed a string into the box containing a 
            two-digit number, you could find where the number begins using
            the following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var myRegExp = /\d\d/;<br><br>
            var numStart = document.form2.textBox6.value.search(myRegExp);
            <br><br>alert("The number starts at position " + 
            numStart);</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type some text into the box, then click here 
            to see this code in operation. 
            <input type="button" name="find_number" value=
            "Find Number" onclick="findNumber()"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>

<!-- string.replace -------------------->

    <tr>
        <td>&nbsp;</td>
        <td valign="top"><code> 
            replace(regExp, newString)</code></td>
        <td colspan="2">Searches for any occurrences of the regular 
            expression in the string. If any are found, it replaces
            them with <code>newString</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">For example:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><input type="text" name="textBox7"></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">The textbox above is called 
             <code>textBox7</code> 
             and it is part of a form called 
             <code>form2</code>.</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">If someone typed a string into the box containing a 
            two-digit number, you could replace the number with 00 using
            the following code:</td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="3">&nbsp;</td>
        <td><code>
            var myRegExp = /\d\d/;<br><br>
            var newString = document.form2.textBox7.value.replace(myRegExp, "00");
            <br><br>alert("The modified string is: " + newString);</code></td>
    </tr>
    <tr>
        <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
        <td colspan="2">&nbsp;</td>
        <td colspan="2">Type some text into the box, then click here 
            to see this code in operation. 
            <input type="button" name="replace_number" value=
            "Replace Number" onclick="replaceNumber()"></td>
    </tr>
</table>
</form>

</body>
</html>